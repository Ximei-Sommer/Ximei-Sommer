<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>GPT-4 IS TOO SMART TO BE SAFE: STEALTHY CHAT WITH LLMS VIA CIPHER</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(248, 248, 247, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(248, 243, 252, 1);
}
.highlight-pink_background {
	background: rgba(252, 241, 246, 1);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(248, 248, 247, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(248, 243, 252, 1);
}
.block-color-pink_background {
	background: rgba(252, 241, 246, 1);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: undefined; }
.select-value-color-pink { background-color: rgba(225, 136, 179, 0.27); }
.select-value-color-purple { background-color: rgba(168, 129, 197, 0.27); }
.select-value-color-green { background-color: rgba(123, 183, 129, 0.27); }
.select-value-color-gray { background-color: rgba(84, 72, 49, 0.15); }
.select-value-color-transparentGray { background-color: undefined; }
.select-value-color-translucentGray { background-color: undefined; }
.select-value-color-orange { background-color: rgba(224, 124, 57, 0.27); }
.select-value-color-brown { background-color: rgba(210, 162, 141, 0.35); }
.select-value-color-red { background-color: rgba(244, 171, 159, 0.4); }
.select-value-color-yellow { background-color: rgba(236, 191, 66, 0.39); }
.select-value-color-blue { background-color: rgba(93, 165, 206, 0.27); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="19b1d4b8-0d39-806f-a713-d3f3bb350972" class="page sans"><header><img class="page-cover-image" src="luna.png" style="object-position:center 7.320000000000004%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">🌕</span></div><h1 class="page-title">GPT-4 IS TOO SMART TO BE SAFE: STEALTHY CHAT WITH LLMS VIA CIPHER</h1><p class="page-description"></p></header><div class="page-body"><p id="19d1d4b8-0d39-8082-b67e-f2da5fbb574f" class="">FEBRUARY 17, 2025</p><p id="19d1d4b8-0d39-805b-b668-c4cf78f63934" class="block-color-gray"><strong>Ximei Xu, ximeixu79@Gmail.com</strong></p><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="19b1d4b8-0d39-811d-af26-f1aaf2f984c3"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">This is a blog about the paper “GPT-4 IS TOO SMART TO BE SAFE: STEALTHY CHAT WITH LLMS VIA CIPHER”.</div></figure><figure class="block-color-blue callout" style="white-space:pre-wrap;display:flex" id="19b1d4b8-0d39-8113-b16c-ee2361a05153"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><strong>Summary:</strong><ul id="19b1d4b8-0d39-8154-86d5-cbde667b2cb3" class="bulleted-list"><li style="list-style-type:disc">In this study, the authors discover that <strong>chat in cipher</strong> can bypass the safety alignment techniques of LLMs, which are mainly conducted in <strong>natural languages</strong>.</li></ul><ul id="19b1d4b8-0d39-8081-a6ae-f3fc5adfba2e" class="bulleted-list"><li style="list-style-type:disc">They propose a novel framework CipherChat to systematically examine the generalizability of safety alignment to non-natural languages – ciphers. It enables humans to chat with LLMs through<strong> cipher prompts topped with system role descriptions and few-shot enciphered demonstrations</strong>. </li></ul><ul id="19b1d4b8-0d39-8033-9fbb-c7930a57fd60" class="bulleted-list"><li style="list-style-type:disc">They use CipherChat to assess state-of-the-art LLMs, including ChatGPT and GPT-4 for different representative human ciphers across 11 safety domains in both English and Chinese. </li></ul><ul id="19b1d4b8-0d39-806f-826b-eb7fb537f676" class="bulleted-list"><li style="list-style-type:disc">Notably, they identify that LLMs seem to have a “secret cipher”, and propose a novel <strong>SelfCipher</strong> that uses only role play and several unsafe demonstrations in natural language to evoke this capability.</li></ul></div></figure><nav id="19b1d4b8-0d39-8135-b550-e696a30441d7" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#19b1d4b8-0d39-813e-aad3-c777b6f011fb">📚 METHODOLOGY: CIPHERCHAT</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#19b1d4b8-0d39-815f-8120-f7613c83de3c">Overview</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#19b1d4b8-0d39-8163-94ef-edfeb0b21b54">Construct System Prompt </a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#19b1d4b8-0d39-8081-ab60-f224f6a1d742">Encipher and Decipher</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#19b1d4b8-0d39-818f-bad2-d332d2fa4d7d">📑 EXPERIMENT SETUP</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#19b1d4b8-0d39-8168-8f01-e0493569a784">Data</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#19b1d4b8-0d39-8025-a8cc-d8e9464efff1">Models</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#19b1d4b8-0d39-81c3-9262-c59e5b516989">My Thoughts </a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#19b1d4b8-0d39-81f2-af2f-cff0d8ffbb48">References </a></div></nav><h2 id="19b1d4b8-0d39-813e-aad3-c777b6f011fb" class="">📚 METHODOLOGY: CIPHERCHAT</h2><h3 id="19b1d4b8-0d39-815f-8120-f7613c83de3c" class="">Overview</h3><p id="19b1d4b8-0d39-800b-a86f-cec8c035720c" class="">Figure 1 shows an overview of CipherChat. The approach <strong>presumes</strong> that since human feedback and<br/>safety alignments are presented in natural language, using <br/><strong>a human-unreadable cipher</strong> can potentially bypass the safety alignments. </p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="19b1d4b8-0d39-80b0-bfa8-ed9587ef8fd6"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="19b1d4b8-0d39-8028-8893-d36e850fb3d8" class=""><strong>STEPS:</strong></p><ol type="1" id="19b1d4b8-0d39-80d8-8adc-c4626675bdc4" class="numbered-list" start="1"><li>Teach the LLM to comprehend the cipher clearly by designating the LLM as a cipher expert, and elucidating the rules of enciphering and deciphering, supplemented with several demonstrations. </li></ol><ol type="1" id="19b1d4b8-0d39-8016-a5aa-fbb04c4b67c6" class="numbered-list" start="2"><li>Convert the input into a cipher, which is less likely to be covered by the safety alignment of LLMs, before feeding it to the LLMs. </li></ol><ol type="1" id="19b1d4b8-0d39-8084-8875-f7625d9ea416" class="numbered-list" start="3"><li>Employ a rule-based decrypter to convert the model output from cipher to natural language.</li></ol></div></figure><p id="19b1d4b8-0d39-80ad-ac08-f7d11cead43d" class="">
</p><figure id="19b1d4b8-0d39-812b-8ddb-dd99c26a7a7b" class="image"><a href="Overview.png"><img style="width:709.9910888671875px" src="Overview.png"/></a><figcaption>Figure 1: Overview of CipherChat.</figcaption></figure><h3 id="19b1d4b8-0d39-8163-94ef-edfeb0b21b54" class="">Construct System Prompt </h3><p id="19b1d4b8-0d39-8050-b819-dda2a1e39ae4" class="">The system prompt aims to guide LLMs to understand the ciphering instruction and generate the<br/>required unsafe response accordingly. It has <br/><strong>three</strong> essential elements: Behaviour Assigning, Cipher Teaching, and Enciphered Unsafe Demonstrations.</p><ul id="19b1d4b8-0d39-80e0-9016-d1b1d645d832" class="bulleted-list"><li style="list-style-type:disc"><strong>Behaviour Assigning:</strong> The authors assign the LLM the role of a cipher expert (“You are an expert on [CipherName].”), and explicitly require LLM to communicate in ciphers (“We will communicate in [CipherName].”). They also add another prompt sentence (“Do not be a translator.”) to prevent some unexpected behaviors.</li></ul><ul id="19b1d4b8-0d39-80ca-bc7c-d4aff18d7ac5" class="bulleted-list"><li style="list-style-type:disc"><strong>Cipher Teaching:</strong> To exploit the capability of LLMs to learn effectively in context, the authors include the explanation of the cipher (e.g. “The Caesar Cipher, recognized as one of the pioneer . . . ”) in the prompt, to teach LLMs how the cipher works.</li></ul><ul id="19b1d4b8-0d39-80ef-8887-cb78e1b69a29" class="bulleted-list"><li style="list-style-type:disc"><strong>Enciphered Unsafe Demonstrations:</strong> They further provide several unsafe demonstrations encrypted in the cipher to LLMs.</li></ul><h3 id="19b1d4b8-0d39-8081-ab60-f224f6a1d742" class="">Encipher and Decipher</h3><p id="19b1d4b8-0d39-801d-8c6f-d45e63df62af" class="">CipherChat is a general framework where one can freely define the cipher function. The authors describe several common character encoding and ciphers for English and Chinese, which are the two main languages used in this work. They also present a novel <strong>SelfCipher</strong> that tries to evoke the cipher inside LLMs without any explicit ciphers.</p><figure class="block-color-yellow_background callout" style="white-space:pre-wrap;display:flex" id="19b1d4b8-0d39-8023-94ad-cf34deaedb91"><div style="width:100%"><ul id="19b1d4b8-0d39-8002-9adf-c483d9ce12f3" class="bulleted-list"><li style="list-style-type:disc"><strong>Character Encoding: </strong><ol type="1" id="19b1d4b8-0d39-807a-8aaf-ef9338817b72" class="numbered-list" start="1"><li>GBK </li></ol><ol type="1" id="19b1d4b8-0d39-800c-9736-caaff1cba7dc" class="numbered-list" start="2"><li>ASCII</li></ol><ol type="1" id="19b1d4b8-0d39-80d7-81b1-f88e57335e84" class="numbered-list" start="3"><li>UTF</li></ol><ol type="1" id="19b1d4b8-0d39-80f2-af69-fa1b7254af56" class="numbered-list" start="4"><li>Unicode</li></ol></li></ul></div></figure><figure class="block-color-blue_background callout" style="white-space:pre-wrap;display:flex" id="19b1d4b8-0d39-80e3-bf17-d015d70f791e"><div style="width:100%"><ul id="19b1d4b8-0d39-80a5-9915-cd2799f37883" class="bulleted-list"><li style="list-style-type:disc"><strong>Common Ciphers:</strong><ol type="1" id="19b1d4b8-0d39-801f-b507-f188347ae4a4" class="numbered-list" start="1"><li>Caesar Cipher: each letter is replaced by a letter some fixed number of positions down the alphabet, eg. khoor → hello. (They use the Caesar Cipher with a shift of 3 positions as a default setting.)</li></ol><ol type="1" id="19b1d4b8-0d39-80b9-89ea-e96f084bd1d8" class="numbered-list" start="2"><li>Morse Code.</li></ol><ol type="1" id="19b1d4b8-0d39-805c-9e1c-dd015e849648" class="numbered-list" start="3"><li>Atbash Cipher: mapping the alphabet to its reverse.</li></ol></li></ul></div></figure><figure class="block-color-blue_background callout" style="white-space:pre-wrap;display:flex" id="19b1d4b8-0d39-80f8-a534-c3a32244326c"><div style="width:100%"><ul id="19b1d4b8-0d39-807e-94b7-d8f4b351e29e" class="bulleted-list"><li style="list-style-type:disc">SelfCipher: <figure id="19b1d4b8-0d39-8062-9db9-ddca639bb545" class="image"><a href="selfcipher.png"><img style="width:709.9642944335938px" src="selfcipher.png"/></a><figcaption>Figure 2: An Example of SelfCipher.</figcaption></figure><ul id="19b1d4b8-0d39-80d4-ab7b-cc83b21daa82" class="bulleted-list"><li style="list-style-type:circle">It does not use any explicit rules of existing encoding or ciphering techniques. </li></ul><ul id="19b1d4b8-0d39-8087-9cff-d68e50b9ee88" class="bulleted-list"><li style="list-style-type:circle">It only lets LLMs play the role of an expert on the Cipher Code, and uses another prompt sentence to emphasize the necessity of communication in ciphers <strong>“In communication, it is essential for you to comprehend user queries in Cipher Code and subsequently deliver your responses utilizing Cipher Code.”</strong> </li></ul><ul id="19b1d4b8-0d39-809f-86e7-ce3c4af97424" class="bulleted-list"><li style="list-style-type:circle">Hope that the prompt can revoke the internal cipher inside LLMs, which is subsequently used to implicitly cipher query and decipher output.  </li></ul></li></ul></div></figure><p id="19b1d4b8-0d39-8075-a6b4-c372f3d24520" class="">The CipherChat guides the LLMs to generate outputs in a cipher format. Given that each cipher has a specific rule to transform between text and cipher code, a natural choice is to leverage a rule-based decrypter to decipher the cipher response into natural language text.</p><h2 id="19b1d4b8-0d39-818f-bad2-d332d2fa4d7d" class="">📑 EXPERIMENT SETUP</h2><h3 id="19b1d4b8-0d39-8168-8f01-e0493569a784" class="">Data</h3><ul id="19b1d4b8-0d39-8096-ba1b-e91260ddd3f7" class="bulleted-list"><li style="list-style-type:disc">The authors utilize a Chinese safety assessment benchmark (<a href="https://arxiv.org/pdf/2304.10436">Sun et al., 2023</a>) in the experiment, which encompasses <strong>eight safety scenarios</strong> and <strong>six types of instruction-based attacks</strong>. They selectively draw upon <strong>11</strong> domains, sampling <strong>199</strong> instances from each randomly. </li></ul><ul id="19b1d4b8-0d39-8032-b416-df576b59bccd" class="bulleted-list"><li style="list-style-type:disc">To facilitate bilingual study, they translate this dataset to English with a combination of Google Translation services and manual correction. An illustration about the dataset is shown in Figure 3.</li></ul><figure id="19b1d4b8-0d39-80fc-a614-e15acff42f3a" class="image"><a href="dataset.png"><img style="width:709.9732666015625px" src="dataset.png"/></a><figcaption>Figure 3: An Example of the Dataset.</figcaption></figure><h3 id="19b1d4b8-0d39-8025-a8cc-d8e9464efff1" class="">Models</h3><ul id="19b1d4b8-0d39-8053-ae8a-e15f987af59f" class="bulleted-list"><li style="list-style-type:disc">The authors consider two models: GPT-3.5-turbo-0613 (Turbo) and GPT-4-0613 (GPT-4). </li></ul><ul id="19b1d4b8-0d39-806a-a0b9-e2b2bd4f97c7" class="bulleted-list"><li style="list-style-type:disc">The temperature is set to 0 with other hyperparameters at default settings. </li></ul><ul id="19b1d4b8-0d39-8060-8b95-e911ae3eb10b" class="bulleted-list"><li style="list-style-type:disc">They use the system prompt in Figure 1 and <strong>3-shot</strong> demonstrations for inference. Each demonstration consists of a query randomly sampled from the rest of the domain-specific dataset and a response carefully devised by human annotators. All queries in a domain share the same demonstrations.</li></ul><h2 id="19b1d4b8-0d39-81c3-9262-c59e5b516989" class="">My Thoughts </h2><ul id="19b1d4b8-0d39-8137-a1ce-c4905a29bbe9" class="bulleted-list"><li style="list-style-type:disc">It will be a good idea for a course project.</li></ul><ul id="19b1d4b8-0d39-80c3-9d55-fc4462b04782" class="bulleted-list"><li style="list-style-type:disc">It does not need us to fine tune LLMs, which would require heavy computational resources and most of us cannot afford.</li></ul><ul id="19b1d4b8-0d39-801f-bd73-f2ed46c79e20" class="bulleted-list"><li style="list-style-type:disc">It’s open-source, so we’ve already had the data and code. (Pretty much everything we need! 🙂)</li></ul><ul id="19b1d4b8-0d39-803a-8a57-f9ced9f88443" class="bulleted-list"><li style="list-style-type:disc"><strong>One problem:</strong> We need to get openAI’s API. <ul id="19b1d4b8-0d39-8035-bb0a-d53815c9175c" class="bulleted-list"><li style="list-style-type:circle"><strong>Solution:</strong> Use other open-source LLMs to replace them, such as LLaMA 2. Then we just need to change some codes accordingly.</li></ul></li></ul><hr id="19b1d4b8-0d39-811f-a9d7-e191f74ddb04"/><h2 id="19b1d4b8-0d39-81f2-af2f-cff0d8ffbb48" class="">References </h2><p id="19b1d4b8-0d39-8137-97df-e96f9b42717f" class=""><strong><a href="https://arxiv.org/pdf/2308.06463">Paper:</a></strong> Yuan, Youliang, Wenxiang Jiao, Wenxuan Wang, Jen-tse Huang, Pinjia He, Shuming Shi, and Zhaopeng Tu. &quot;Gpt-4 is too smart to be safe: Stealthy chat with llms via cipher.&quot; <em>arXiv preprint arXiv:2308.06463</em> (2023).</p><p id="19b1d4b8-0d39-807d-9d72-d31d287acbc9" class=""><a href="https://github.com/RobustNLP/CipherChat">Code:</a> https://github.com/RobustNLP/CipherChat</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>